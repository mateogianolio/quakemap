<!doctype html>

<html>
  <head>
    <title>Earthquake heatmap</title>

    <meta name="viewport" content="initial-scale=1, maximum-scale=1">

    <script src="https://api.mapbox.com/mapbox.js/v2.3.0/mapbox.js"></script>
    <script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-heat/v0.1.3/leaflet-heat.js'></script>

    <script src="https://use.typekit.net/qmn5yds.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>

    <link href="https://api.mapbox.com/mapbox.js/v2.3.0/mapbox.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="map.css">
  </head>
  <body>
    <div id="map"></div>
    <div id="box">
      <h1>
        Earthquake heatmap
      </h1>
      <h2 id="time"></h2>
      <p id="extra">
        A heatmap synchronously accumulating <strong>30 years</strong> of earthquake data (February 1986 to February 2016)
        directly from <a href="http://earthquake.usgs.gov/earthquakes/feed/v1.0/index.php">USGS</a>.
      </p>
      <p>
        <strong>Click anywhere</strong> to run, click again to reset.
      </p>
      <p>
        <a href="https://github.com/mateogianolio/quakemap">Source</a>, &copy; <a href='https://www.mapbox.com/about/maps/'>Mapbox</a> &copy; <a href='http://www.openstreetmap.org/copyright'>OpenStreetMap</a>.
      </p>
    </div>
    <script src="map.js"></script>
    <script>
      document.addEventListener('click', function () {
        window.pause = !window.pause;
        if (window.pause) {
          window.quakes = 0;
          heat.setLatLngs([]);
          document.getElementById('time').innerHTML = '';
        }
          traverse(new Date('1986-02-01'));
      });
    </script>
  </body>
</html>
